<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>VISTATS - Panel GÅ‚Ã³wny</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="vistats.png" type="image/png">
    <script>
        if (!sessionStorage.getItem('userRole')) { window.location.replace('gate.html'); }
    </script>
    <style>
        .box { position: relative; }
        .locked-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); backdrop-filter: blur(4px); z-index: 10; border-radius: 8px; display: flex; align-items: center; justify-content: center; text-align: center; color: white; font-weight: bold; }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <div id="online-counter-container">
                <span class="online-dot"></span>
                <span id="online-count">1</span>
                <span class="online-text">online</span>
            </div>
            <h1>VISTATS - Panel GÅ‚Ã³wny</h1>
            <div id="user-info-container">
                <span id="headerInfo" style="color: #ccc;"></span>
                <button id="logoutButton" onclick="logout()" style="display: none; margin-left: 15px; padding: 5px 10px; font-size: 0.9em; background: #c9302c;">Wyloguj</button>
            </div>
        </div>
    </header>
    <main>
        <div class="container">
            <div class="box" id="adminPanel" style="display: none;">
                <h3>Panel Administratora</h3>
                <p>MoÅ¼esz tworzyÄ‡ nowe druÅ¼yny, ktÃ³re bÄ™dÄ… dostÄ™pne dla graczy.</p>
                <hr style="width: 80%; border-color: rgba(255,255,255,0.1);">
                <h4>StwÃ³rz nowÄ… druÅ¼ynÄ™</h4>
                <input type="text" id="newTeamName" placeholder="Nazwa druÅ¼yny...">
                <input type="text" id="newTeamPassword" placeholder="HasÅ‚o dla druÅ¼yny...">
                <textarea id="newTeamFaceitLinks" placeholder="Wklej linki do profili Faceit, kaÅ¼dy w nowej linii..." style="min-height: 80px;"></textarea>
                <button id="createTeamButton">StwÃ³rz DruÅ¼ynÄ™</button>
                <p id="adminStatus" style="min-height: 1.2em;"></p>
            </div>
            <div class="box" id="playerLoginPanel" style="display: none;">
                <h3>Logowanie do DruÅ¼yny</h3>
                <p>Aby uzyskaÄ‡ dostÄ™p do paneli, zaloguj siÄ™ do swojej druÅ¼yny.</p>
                <input type="text" id="loginTeamName" placeholder="Nazwa druÅ¼yny...">
                <input type="password" id="loginTeamPassword" placeholder="HasÅ‚o druÅ¼yny...">
                <button id="loginTeamButton">Zaloguj</button>
                <p id="playerLoginStatus" style="min-height: 1.2em;"></p>
            </div>
            <div class="box" id="analysisBox">
                <div class="locked-overlay"><p>Zaloguj siÄ™ do druÅ¼yny, aby odblokowaÄ‡.</p></div>
                <h3>ANALIZA</h3>
                <button onclick="window.location.href='analiza.html'">Analiza DruÅ¼yny</button>
                <button onclick="window.location.href='analiza.html#match-analysis-section'">Analiza Meczu</button>
                <button onclick="window.location.href='snapshoty.html'">Zapisane Analizy</button>
            </div>
            <div class="box" id="trainingBox">
                <div class="locked-overlay"><p>Zaloguj siÄ™ do druÅ¼yny, aby odblokowaÄ‡.</p></div>
                <h3>TRENING</h3>
                <button onclick="window.location.href='notatnik.html'">Notatnik Taktyczny</button>
                <button onclick="window.location.href='taktyki.html'">Baza Wiedzy</button>
                <button onclick="window.location.href='terminarz.html'">Terminarz</button>
            </div>
            <div class="box" id="teamBox">
                 <div class="locked-overlay"><p>Zaloguj siÄ™ do druÅ¼yny, aby odblokowaÄ‡.</p></div>
                <h3>DRUÅ»YNA</h3>
                <p id="teamBoxInfo" style="font-size: 0.9em; color: #aaa;">ZarzÄ…dzaj skÅ‚adem i rolami.</p>
                <button onclick="window.location.href='team-manager.html'">ZarzÄ…dzaj</button>
            </div>
             <div class="box" id="adminDashboardBox" style="display: none;">
                <h3>ðŸ‘‘ Panel Administratora</h3>
                <p style="font-size: 0.9em; color: #aaa;">ZarzÄ…dzaj wszystkimi druÅ¼ynami, uÅ¼ytkownikami i ustawieniami systemu.</p>
                <button onclick="window.location.href='admin-dashboard.html'" style="background-color: #f0ad4e;">OtwÃ³rz Panel</button>
            </div>
        </div>
    </main>
    <script src="js/main-panel.js"></script>
</body>
</html>